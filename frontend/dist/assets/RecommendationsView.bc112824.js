import{d as V,a0 as w,r as f,c as C,a5 as D,a as l,e as i,f as u,b as r,F as m,j as h,i as g,o as c,a6 as x,n as E,m as N,a7 as T,N as $,t as B,h as j,w as F,s as b,G as O,_ as S}from"./index.dbbd8adb.js";import{s as A}from"./panel.esm.7a7629ab.js";import{s as U}from"./textarea.esm.a25a4314.js";import{u as z}from"./adminStore.906f03dc.js";const G={class:"section-recommendations-change"},I={class:"recommendation-nav"},J=["for"],L=["id","value"],M={key:0,class:"recommendation-body"},q={class:"rec-buttons"},H=V({__name:"RecommendationsView",setup(P){const p=z(),k=w(),n=f(""),o=f({}),_=C(()=>p.allRecommendations);D(n,t=>{const s=_.value.filter(e=>e.name===t)[0].tests;o.value={};for(let e in s)o.value[e]=s[e].join(",")});const v=(t,s,e)=>{k.add({severity:t,summary:s,detail:e,life:3e3})},y=()=>{const t=Object.keys(o.value),s=`${+t[t.length-1]+1}`;o.value[s]=""},R=async()=>{var e;const t={};for(let a in o.value)t[a]=o.value[a].split(".,");const s=await p.saveRecommendationsData(n.value,t);if(s.status===200)v("success","\u0423\u0441\u043F\u0435\u0448\u043D\u043E","\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0432\u043D\u0435\u0441\u0435\u043D\u044B");else if(O.isAxiosError(s)){const a=(e=s.response)==null?void 0:e.data;v("error","\u041E\u0448\u0438\u0431\u043A\u0430",a.ERROR)}};return(t,s)=>(c(),l(m,null,[i(u(x)),r("section",G,[r("div",I,[(c(!0),l(m,null,h(u(_),(e,a)=>(c(),l("label",{key:a,for:`${a}`,class:E(["label",{checked:n.value===e.name}])},[N(r("input",{id:`${a}`,"onUpdate:modelValue":s[0]||(s[0]=d=>n.value=d),type:"radio",class:"hidden",value:e.name},null,8,L),[[T,n.value]]),$(" "+B(e.name),1)],10,J))),128))]),n.value!==""?(c(),l("div",M,[(c(!0),l(m,null,h(Object.keys(o.value),(e,a)=>(c(),j(u(A),{key:a,header:e,toggleable:!0,collapsed:!0},{default:F(()=>[i(u(U),{modelValue:o.value[e],"onUpdate:modelValue":d=>o.value[e]=d,style:{width:"100%",height:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["header"]))),128)),r("div",q,[i(u(b),{label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",class:"p-button-raised p-button-text",onClick:y}),i(u(b),{label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",class:"p-button-raised p-button-success p-button-text",onClick:R})])])):g("",!0)])],64))}});const Z=S(H,[["__scopeId","data-v-f969553f"]]);export{Z as default};
