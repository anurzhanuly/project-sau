import{d as V,u as g,r as f,c as w,a1 as C,a as l,e as i,f as n,b as d,F as m,A as h,y as D,g as c,a2 as x,z as E,M as T,a3 as N,j as $,K as B,P as j,J as A,h as b,n as F,_ as O}from"./index.fbc81b2a.js";import{s as S}from"./panel.esm.5d397b21.js";import{s as U}from"./textarea.esm.a497fc89.js";import{u as z}from"./adminStore.5ff9379c.js";const J={class:"section-recommendations-change"},M={class:"recommendation-nav"},I=["for"],L=["id","value"],P={key:0,class:"recommendation-body"},q={class:"rec-buttons"},G=V({__name:"RecommendationsView",setup(H){const p=z(),k=g(),u=f(""),o=f({}),_=w(()=>p.allRecommendations);C(u,t=>{const s=_.value.filter(e=>e.name===t)[0].tests;o.value={};for(let e in s)o.value[e]=s[e].join(",")});const v=(t,s,e)=>{k.add({severity:t,summary:s,detail:e,life:3e3})},y=()=>{const t=Object.keys(o.value),s=`${+t[t.length-1]+1}`;o.value[s]=""},R=async()=>{var e;const t={};for(let a in o.value)t[a]=o.value[a].split(".,");const s=await p.saveRecommendationsData(u.value,t);if(s.status===200)v("success","\u0423\u0441\u043F\u0435\u0448\u043D\u043E","\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0432\u043D\u0435\u0441\u0435\u043D\u044B");else if(F.isAxiosError(s)){const a=(e=s.response)==null?void 0:e.data;v("error","\u041E\u0448\u0438\u0431\u043A\u0430",a.ERROR)}};return(t,s)=>(c(),l(m,null,[i(n(x)),d("section",J,[d("div",M,[(c(!0),l(m,null,h(n(_),(e,a)=>(c(),l("label",{key:a,for:`${a}`,class:E(["label",{checked:u.value===e.name}])},[T(d("input",{id:`${a}`,"onUpdate:modelValue":s[0]||(s[0]=r=>u.value=r),type:"radio",class:"hidden",value:e.name},null,8,L),[[N,u.value]]),$(" "+B(e.name),1)],10,I))),128))]),u.value!==""?(c(),l("div",P,[(c(!0),l(m,null,h(Object.keys(o.value),(e,a)=>(c(),j(n(S),{key:a,header:e,toggleable:!0,collapsed:!0},{default:A(()=>[i(n(U),{modelValue:o.value[e],"onUpdate:modelValue":r=>o.value[e]=r,style:{width:"100%",height:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["header"]))),128)),d("div",q,[i(n(b),{label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",class:"p-button-raised p-button-text",onClick:y}),i(n(b),{label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",class:"p-button-raised p-button-success p-button-text",onClick:R})])])):D("",!0)])],64))}});const Y=O(G,[["__scopeId","data-v-dbc49a1c"]]);export{Y as default};
