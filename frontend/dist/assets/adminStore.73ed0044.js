import{C,r as i,c as I,E,G as v,H as R,I as f}from"./index.a43fbc67.js";const N=C("admin",()=>{const e=i([]),c=i([]),l=i([]),r=i(""),o=i(0),m=[{header:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435 \u0432\u043E\u043F\u0440\u043E\u0441\u0430",field:"questionName",hasDropdown:!0,options:I(()=>l.value)},{header:"\u0423\u0441\u043B\u043E\u0432\u0438\u0435",field:"compare",hasDropdown:!0,options:[{value:"exact"},{value:"except"},{value:"greater"},{value:"less"},{value:"range"},{value:"optional"}]},{header:"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435",field:"value",hasDropdown:!1,options:[]},{header:"\u041D\u043E\u043C\u0435\u0440 \u0440\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u0438",field:"testCase",hasDropdown:!1,options:[]},{header:"\u0423\u0434\u0430\u043B\u0435\u043D\u0438\u0435",field:"",hasDropdown:!1,options:[]}];async function p(){const n=await E();return v.isAxiosError(n)||(c.value=n.data.content.pages.map(u=>u.elements).flat(1),l.value=c.value.map(u=>({value:u.name}))),n}async function x(){const n=await R();return v.isAxiosError(n)||(e.value=JSON.parse(n.data.result)),n}async function D(n,u){const a=JSON.parse(JSON.stringify(e.value.filter(d=>d.name===n)[0])),t=e.value.indexOf(a);return a.tests=u,e.value[t].tests=u,await f(a)}async function h(n){const u=JSON.parse(JSON.stringify(e.value.filter(t=>t.name===n)[0]));return await f(u)}function g(n,u){const a=e.value.filter(s=>s.name===r.value)[0],t=e.value.indexOf(a);e.value[t].conditions[o.value][n]={...u}}function w(n){const u=e.value.filter(t=>t.name===r.value)[0],a=e.value.indexOf(u);e.value[a].conditions[o.value].push({...n})}function O(n){const u=e.value.filter(s=>s.name===r.value)[0],a=e.value.indexOf(u),t=e.value[a].conditions[o.value].indexOf(n);console.log(n,t),console.log(e.value[a].conditions[o.value]),e.value[a].conditions[o.value]=e.value[a].conditions[o.value].filter((s,d)=>{if(d!==t)return s})}return{allRecommendations:e,questions:c,questionsNames:l,conditionColumns:m,checkedRecommendationName:r,conditionIndex:o,editLocalConditionsByIndex:g,getRecommendationsData:x,getQuestionsData:p,deleteConditionByIndex:O,createConditionInRec:w,saveConditionsData:h,saveRecommendationsData:D}});export{N as u};
