import{_ as y,$ as V,f,g as R,h as w,a3 as b,o as l,c as r,m,u as c,e as u,F as _,j as h,a as C,a4 as x,b as N,w as T,q as A,d as B,t as D,k as S,l as $,A as E}from"./index.1f9017a1.js";import{s as O}from"./panel.esm.dff6f946.js";import{s as U}from"./textarea.esm.88c0c549.js";import{u as j}from"./adminStore.a39206bf.js";import{a as F}from"./admin.88822e97.js";const M={class:"section-recommendations-change"},q={class:"recommendation-nav"},z=["for"],I=["id","value"],J={key:0,class:"recommendation-body"},L={__name:"ChangeRecommendationsView",setup(G){const i=j(),g=V(),n=f(""),t=f({});R(()=>{i.recommendations.length||i.getRecommendationsData()});const p=w(()=>i.recommendations);b(n,o=>{t.value=p.value.filter(s=>s.name===o)[0].tests});const v=(o,s,a)=>{g.add({severity:o,summary:s,detail:a,life:3e3})},k=async()=>{var a;const o={};for(let e in t.value)Array.isArray(t.value[e])?o[e]=[...t.value[e]]:o[e]=t.value[e].split(",");const s=await i.saveRecommendationsData(n.value,o);if(s.status===200)v("success","\u0423\u0441\u043F\u0435\u0448\u043D\u043E","\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0432\u043D\u0435\u0441\u0435\u043D\u044B");else if(F.isAxiosError(s)){const e=(a=s.response)==null?void 0:a.data;v("error","\u041E\u0448\u0438\u0431\u043A\u0430",e.ERROR)}};return(o,s)=>(l(),r(_,null,[m(c(x)),u("section",M,[u("div",q,[(l(!0),r(_,null,h(c(p),(a,e)=>(l(),r("label",{key:e,for:e,class:N(["label",{checked:n.value===a.name}])},[T(u("input",{id:e,"onUpdate:modelValue":s[0]||(s[0]=d=>n.value=d),type:"radio",class:"hidden",value:a.name},null,8,I),[[A,n.value]]),B(" "+D(a.name),1)],10,z))),128))]),n.value!==""?(l(),r("div",J,[(l(!0),r(_,null,h(Object.keys(t.value),(a,e)=>(l(),S(c(O),{key:e,header:a,toggleable:!0,collapsed:!0},{default:$(()=>[m(c(U),{modelValue:t.value[a],"onUpdate:modelValue":d=>t.value[a]=d,style:{width:"100%",height:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["header"]))),128)),m(c(E),{label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",class:"p-button-lg",onClick:k})])):C("",!0)])],64))}},Y=y(L,[["__scopeId","data-v-ba6d5e6c"]]);export{Y as default};
